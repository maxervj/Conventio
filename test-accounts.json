{
  "test_accounts": {
    "student": {
      "email": "etudiant.test@lycee-faure.fr",
      "password": "Test123456!",
      "firstName": "Étudiant",
      "lastName": "Test",
      "type": "student",
      "roles": ["ROLE_USER"],
      "verified": true,
      "canLogin": true,
      "notes": "Doit utiliser un email @lycee-faure.fr"
    },
    "professor": {
      "email": "professeur.test@gmail.com",
      "password": "Test123456!",
      "firstName": "Professeur",
      "lastName": "Test",
      "type": "professor",
      "roles": ["ROLE_USER"],
      "verified": null,
      "canLogin": true,
      "notes": "Peut utiliser n'importe quel email"
    },
    "tutor": {
      "email": "tuteur.test@entreprise.com",
      "password": "Test123456!",
      "firstName": "Tuteur",
      "lastName": "Test",
      "type": "tutor",
      "roles": ["ROLE_USER"],
      "verified": null,
      "canLogin": true,
      "notes": "Représente un tuteur en entreprise"
    },
    "admin": {
      "email": "admin.test@lycee-faure.fr",
      "password": "Test123456!",
      "firstName": "Admin",
      "lastName": "Test",
      "type": "professor",
      "roles": ["ROLE_ADMIN", "ROLE_USER"],
      "verified": null,
      "canLogin": true,
      "notes": "Accès administrateur complet"
    }
  },
  "metadata": {
    "created": "2025-12-02",
    "version": "1.0",
    "password_rules": {
      "min_length": 12,
      "requires_uppercase": true,
      "requires_lowercase": true,
      "requires_digit": true,
      "requires_special_char": true,
      "allowed_special_chars": "@$!%*?&"
    },
    "email_restrictions": {
      "student": {
        "required_domain": "@lycee-faure.fr",
        "verification_required": true
      },
      "professor": {
        "required_domain": null,
        "verification_required": false
      },
      "tutor": {
        "required_domain": null,
        "verification_required": false
      }
    }
  },
  "test_scenarios": [
    {
      "name": "Login as Student",
      "steps": [
        "Navigate to /login",
        "Enter email: etudiant.test@lycee-faure.fr",
        "Enter password: Test123456!",
        "Click login button"
      ],
      "expected": "Successful login, student dashboard displayed"
    },
    {
      "name": "Login as Professor",
      "steps": [
        "Navigate to /login",
        "Enter email: professeur.test@gmail.com",
        "Enter password: Test123456!",
        "Click login button"
      ],
      "expected": "Successful login, professor dashboard displayed"
    },
    {
      "name": "Login as Tutor",
      "steps": [
        "Navigate to /login",
        "Enter email: tuteur.test@entreprise.com",
        "Enter password: Test123456!",
        "Click login button"
      ],
      "expected": "Successful login, tutor dashboard displayed"
    },
    {
      "name": "Login as Admin",
      "steps": [
        "Navigate to /login",
        "Enter email: admin.test@lycee-faure.fr",
        "Enter password: Test123456!",
        "Click login button"
      ],
      "expected": "Successful login with admin privileges"
    },
    {
      "name": "Test Student Email Restriction",
      "steps": [
        "Try to register student with @gmail.com email",
        "Observe validation error",
        "Try to register student with @lycee-faure.fr email",
        "Observe success"
      ],
      "expected": "Only @lycee-faure.fr emails accepted for students"
    }
  ],
  "useful_commands": {
    "list_users": "php bin/console doctrine:query:sql \"SELECT id, email, user_type FROM user\"",
    "verify_student": "php bin/console doctrine:query:sql \"UPDATE user SET is_verified=1 WHERE email='student@lycee-faure.fr'\"",
    "create_student": "php bin/console app:add-user email@lycee-faure.fr password FirstName LastName --type=student",
    "create_professor": "php bin/console app:add-user email@domain.com password FirstName LastName --type=professor",
    "create_tutor": "php bin/console app:add-user email@domain.com password FirstName LastName --type=tutor",
    "create_admin": "php bin/console app:add-user email@domain.com password FirstName LastName --type=professor --role=ROLE_ADMIN",
    "delete_test_accounts": "php bin/console doctrine:query:sql \"DELETE FROM user WHERE email LIKE '%.test@%'\""
  }
}
